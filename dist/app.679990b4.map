{"version":3,"sources":["js\\app.js"],"names":["window","Appmain","template","watch","created","fetchdata","data","resume","name","job","gender","birthday","home","phone","blog","qq","weiXin","email","gitHub","skills","description","projects","editShow","isShare","currentUser","id","shareLink","methods","Object","assign","AV","User","current","getResume","editMain","saveMain","toJSON","objectId","user","createWithoutData","set","save","then","alert","share","location","origin","pathname","query","Query","get","error","print","changeResume","e","userLogin","$router","push","saveResuem","userOut","logOut","reload","Vue","component"],"mappings":"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","file":"app.679990b4.map","sourceRoot":"..\\src","sourcesContent":["window.Appmain = {\r\n    template: `\r\n    <div>\r\n        <nav-aside @edit=\"editMain\" @save=\"saveMain\" @user-out=\"userOut\" @share-user=\"share\" @print=\"print\"></nav-aside>\r\n        <main-app :resume=\"resume\" :editShow=\"editShow\" @edit-change=\"changeResume\"></main-app>\r\n        <footer-app></footer-app>\r\n        <share v-show=\"isShare\" :shareLink=\"shareLink\"></share>\r\n    </div>\r\n  `,\r\n    watch:{\r\n        '$route':'fetchdata',\r\n    },\r\n    created(){\r\n       this.fetchdata()\r\n    },\r\n    data(){\r\n        return {\r\n            resume: {\r\n                name: '姓名',\r\n                job: '前端工程师',\r\n                gender: '男',\r\n                birthday: '25',\r\n                home: '广西',\r\n                phone: '1888888888',\r\n                blog: 'hyl007.github.io',\r\n                qq: '999999999',\r\n                weiXin: 'hyl66666666',\r\n                email: '99999@qq.com',\r\n                gitHub: 'github.com',\r\n                skills: [\r\n                    {name: '技能名', description: '技能描述'},\r\n                    {name: '技能名', description: '技能描述'},\r\n                    {name: '技能名', description: '技能描述'},\r\n                ],\r\n                projects: [\r\n                    {name: '项目名称', description: '项目描述'},\r\n                    {name: '项目名称', description: '项目描述'},\r\n                    {name: '项目名称', description: '项目描述'},\r\n                    {name: '项目名称', description: '项目描述'},\r\n                ],\r\n            },\r\n            editShow: false,\r\n            isShare:false,\r\n            currentUser:{id:''},\r\n            shareLink:'请登录再分享链接',\r\n        }\r\n    },\r\n    methods:{\r\n        fetchdata(){\r\n            Object.assign(this.currentUser,AV.User.current())\r\n            if(this.currentUser.id){\r\n               this.getResume(this.currentUser.id)\r\n            }\r\n        },\r\n        editMain(){\r\n            this.editShow=true\r\n        },\r\n        saveMain(){\r\n            if(AV.User.current()){\r\n                let {objectId}=AV.User.current().toJSON()\r\n                let user = AV.Object.createWithoutData('User', objectId);\r\n                user.set('resume', this.resume);\r\n                user.save().then(()=>{\r\n                    alert('保存成功')\r\n                    this.getResume(objectId)\r\n                    this.editShow=false\r\n                },()=>{\r\n                    alert('保存失败')\r\n                });\r\n            }else {\r\n                alert(\"请登录，再保存\");\r\n            }\r\n        },\r\n        share(){\r\n            this.isShare=!this.isShare\r\n            this.shareLink = location.origin + location.pathname + '?user_id=' + this.currentUser.id\r\n        },\r\n        getResume(user){\r\n            var query = new AV.Query('User');\r\n            return query.get(user).then( (user)=> {\r\n                if(user.toJSON().resume){\r\n                    this.resume=user.toJSON().resume\r\n                }\r\n            },  (error) =>{\r\n            });\r\n        },\r\n        print(){\r\n            window.print()\r\n        },\r\n        changeResume(e){\r\n            this.resume=e\r\n        },\r\n        userLogin(){\r\n            let currentUser = AV.User.current();\r\n            if (!currentUser) {\r\n                this.$router.push('/login')\r\n            }\r\n            else {\r\n                this.saveResuem()\r\n            }\r\n        },\r\n        userOut(){\r\n            if(AV.User.current()){\r\n                AV.User.logOut();\r\n                alert('注销成功')\r\n                window.location.reload()\r\n            }\r\n        },\r\n    }\r\n}\r\nVue.component('app-main',Appmain)\r\n\r\n\r\n\r\n"]}