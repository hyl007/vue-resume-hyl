{"version":3,"sources":["js\\userLogin.js"],"names":["eventHub","Vue","prototype","$eventHub","window","Login","data","userLogin","email","password","methods","onLogin","e","AV","User","current","alert","logIn","then","user","toJSON","$emit","objectId","$router","push","error","code","template","component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,WAAS,IAAIC,GAAJ,EAAb;AACAA,IAAIC,SAAJ,CAAcC,SAAd,GAAwBH,QAAxB;AACAI,OAAOC,KAAP,GAAa;AACTC,QADS,kBACH;AACF,eAAO;AACHC,uBAAU;AACNC,uBAAM,EADA;AAENC,0BAAS;AAFH;AADP,SAAP;AAMH,KARQ;;AASTC,aAAQ;AACJC,eADI,mBACIC,CADJ,EACM;AAAA;;AACN,gBAAGC,GAAGC,IAAH,CAAQC,OAAR,EAAH,EAAqB;AACjBC,sBAAM,OAAN;AACH,aAFD,MAEK;AACDH,mBAAGC,IAAH,CAAQG,KAAR,CAAc,KAAKV,SAAL,CAAeC,KAA7B,EAAoC,KAAKD,SAAL,CAAeE,QAAnD,EAA6DS,IAA7D,CAAmE,UAACC,IAAD,EAAS;AACxEA,2BAAOA,KAAKC,MAAL,EAAP;AACA,0BAAKjB,SAAL,CAAekB,KAAf,CAAqB,UAArB,EAAgCF,KAAKG,QAArC;AACA,0BAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACH,iBAJD,EAII,UAACC,KAAD,EAAU;AACV,wBAAGA,MAAMC,IAAN,KAAa,GAAhB,EAAoB;AAChBV,8BAAM,OAAN;AACH,qBAFD,MAEM,IAAGS,MAAMC,IAAN,KAAa,GAAhB,EAAoB;AACtBV,8BAAM,UAAN;AACH;AACJ,iBAVD;AAWH;AAEJ;AAlBG,KATC;AA6BTW;AA7BS,CAAb;;AAmDA1B,IAAI2B,SAAJ,CAAc,YAAd,EAA2BvB,KAA3B","file":"userLogin.7ed71462.map","sourceRoot":"..\\src","sourcesContent":["let eventHub=new Vue()\r\nVue.prototype.$eventHub=eventHub\r\nwindow.Login={\r\n    data(){\r\n        return {\r\n            userLogin:{\r\n                email:'',\r\n                password:''\r\n            },\r\n        }\r\n    },\r\n    methods:{\r\n        onLogin(e){\r\n            if(AV.User.current()){\r\n                alert(\"已经登录了\")\r\n            }else{\r\n                AV.User.logIn(this.userLogin.email, this.userLogin.password).then( (user)=> {\r\n                    user = user.toJSON()\r\n                    this.$eventHub.$emit('login-up',user.objectId)\r\n                    this.$router.push('/')\r\n                },  (error) =>{\r\n                    if(error.code===211){\r\n                        alert(\"邮箱不存在\");\r\n                    }else if(error.code===210){\r\n                        alert(\"邮箱和密码不匹配\")\r\n                    }\r\n                });\r\n            }\r\n\r\n        },\r\n    },\r\n    template:`\r\n  <div class=\"userlogin\">\r\n     <div class=\"login-title\">\r\n            <h3>登录</h3>\r\n     </div>\r\n    <form @submit.prevent=\"onLogin\">\r\n        <div class=\"form-group\">\r\n            <label for=\"exampleInputEmail1\">Email address</label>\r\n            <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" placeholder=\"Email\" v-model=\"userLogin.email\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"exampleInputPassword1\">Password</label>\r\n            <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" v-model=\"userLogin.password\">\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-default\">提交</button>\r\n        <button type=\"button\" class=\"btn btn-default\"><router-link to=\"/register\">注册</a></button>\r\n        <button type=\"button\" class=\"btn btn-default\"><router-link to=\"/\">关闭</a></button>\r\n    </form>\r\n  </div>\r\n    `,\r\n}\r\n\r\nVue.component('user-login',Login)\r\n"]}